<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <script src="douyin-search.js?v=20250880"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="yibazhan/css/style.css?v=20250835.css">
    <link rel="stylesheet" href="yibazhan/css/layui.css">
    <title>èµ„æºæ€»ç«™</title>
    
    <!-- ç™¾åº¦ç»Ÿè®¡ä»£ç  -->
    <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5d2e7a98602c7bb172673165ea0b2c6b";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>

    <style>
        /* åŸºç¡€é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.5;
            padding: 0;
            margin: 0;
            overflow-x: hidden;
        }
        
        /* é¡µé¢å®¹å™¨ */
        .page-container {
            max-width: 100%;
            margin: 0 auto;
            padding: 12px;
        }
        
        /* æ ‡é¢˜åŒºåŸŸ */
        .rich_media_title {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin: 10px 0 15px;
            color: #333;
            padding: 0 10px;
        }
        
        /* å¼€å‘è€…è¯´æ˜åŒºåŸŸ */
        .developer-note {
            background: #fff;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f0;
        }
        
        .developer-note-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .developer-icon {
            width: 24px;
            height: 24px;
            background: #1890ff;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
        }
        
        .developer-title {
            font-weight: bold;
            color: #333;
            font-size: 16px;
        }
        
        .developer-content {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }
        
        .developer-content strong {
            color: #e03e2d;
        }
        
        /* è´­ä¹°æŒ‰é’® */
        .layui-btn-container {
            text-align: center;
            margin: 15px 0;
        }
        
        .layui-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            height: 44px;
            padding: 0 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        /* è½®æ’­å›¾æ ·å¼ */
        .slideshow-container {
            position: relative;
            width: 100%;
            margin: 15px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .slideshow-slide {
            display: none;
            width: 100%;
        }
        
        .slideshow-slide.active {
            display: block;
        }
        
        .slideshow-slide img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .slideshow-prev, .slideshow-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            font-size: 16px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .slideshow-prev { left: 10px; }
        .slideshow-next { right: 10px; }
        
        .slideshow-dots {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            text-align: center;
        }
        
        .slideshow-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            margin: 0 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .slideshow-dot.active {
            background: #fff;
            transform: scale(1.2);
        }
        
        /* æ­¥éª¤å¡ç‰‡ */
        .step-card {
            background: #fff;
            border-radius: 12px;
            padding: 18px;
            margin: 16px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f0;
        }
        
        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .step-number {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, #1890ff, #096dd9);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            margin-right: 12px;
        }
        
        .step-header h3 {
            margin: 0;
            color: #333;
            font-size: 18px;
        }
        
        /* éšæœºå…³é”®è¯åŒºåŸŸ */
        .random-keyword-area {
            text-align: center;
            margin: 20px 0;
        }
        
        .current-keyword-box {
            background: white;
            border: 2px dashed #1890ff;
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #currentKeyword {
            font-size: 16px;
            line-height: 1.6;
            color: #333;
            margin: 0;
            white-space: pre-line;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .action-buttons .layui-btn {
            flex: 1;
            min-width: 140px;
            max-width: 48%;
        }
        
        /* æŠ–éŸ³/Bç«™æœç´¢åŒºåŸŸ */
        .douyin-search-box {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            margin: 20px 0;
            border: 1px solid #e9ecef;
        }
        
        .keyword-input-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        #customKeyword {
            font-weight: bold;
            padding: 12px 15px;
            flex: 1;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
            font-size: 16px;
        }
        
        #refreshKeywordBtn {
            border: none;
            background: none;
            cursor: pointer;
            color: #666;
            font-size: 20px;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .jump-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 14px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 16px;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            border: none;
            cursor: pointer;
            flex: 1;
            min-width: 140px;
        }
        
        .jump-btn i {
            margin-right: 8px;
        }
        
        .douyin-btn {
            background: linear-gradient(45deg, #000000, #69C9D0);
            color: white;
        }
        
        .bilibili-btn {
            background: linear-gradient(45deg, #FB7299, #00A1D6);
            color: white;
        }
        
        .douyin-tip {
            margin-top: 15px;
            font-size: 13px;
            color: #666;
            text-align: center;
            padding: 10px;
            background-color: #f0f7ff;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }
        
        /* ç¤ºä¾‹å›¾ç‰‡ */
        .example-image {
            width: 100%;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        /* å¥–åŠ±è½®æ’­ */
        .reward-slideshow-container {
            position: relative;
            width: 100%;
            margin: 15px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .reward-slide {
            display: none;
            width: 100%;
        }
        
        .reward-slide.active {
            display: block;
        }
        
        .reward-slide img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .reward-prev, .reward-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            font-size: 16px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .reward-prev { left: 10px; }
        .reward-next { right: 10px; }
        
        .reward-dots {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            text-align: center;
        }
        
        .reward-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            margin: 0 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .reward-dot.active {
            background: #fff;
            transform: scale(1.2);
        }
        
        /* å®¢æœæŒ‰é’®æ ·å¼ */
       .service-popup {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 380px;
    max-width: calc(100% - 40px);
    border: 1px solid #eee;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    background: #fff;
    overflow: hidden;
    font-family: "Microsoft YaHei", sans-serif;
    display: none;
    z-index: 9999;
    flex-direction: column;
}

.popup-header {
    padding: 12px 16px;
    background: #f5f5f5;
    border-bottom: 1px solid #eee;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.header-left {
    display: flex;
    align-items: center;
}
.service-name {
    font-weight: 600;
    color: #333;
    margin-right: 8px;
    font-size: 15px;
}
.online-status {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #4cd964;
    margin-right: 4px;
    animation: blink 1.5s infinite;
}
.status-text {
    font-size: 12px;
    color: #666;
}
.popup-close {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #999;
    transition: all 0.2s;
}
.popup-close:hover {
    background: #f0f0f0;
    color: #333;
}

.message-container {
    height: 400px;
    padding: 16px;
    overflow-y: auto;
    background: #fafafa;
    flex: 1;
}
.message-row {
    margin-bottom: 16px;
    display: flex;
    clear: both;
}
.service-message-row {
    align-items: flex-start;
}
.user-message-row {
    flex-direction: row-reverse;
    align-items: flex-start;
}

.service-avatar-img {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: cover;
    margin-right: 8px;
    border: 1px solid #eee;
}
.user-avatar-img {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    margin-left: 8px;
    border: 1px solid #eee;
    display: none;
}

.message-bubble {
    max-width: 75%;
    padding: 10px 14px;
    border-radius: 18px;
    line-height: 1.5;
    font-size: 14px;
    position: relative;
}
.service-bubble {
    background: #e5f3ff;
    color: #333;
    border-top-left-radius: 4px;
}
.service-bubble::before {
    content: '';
    position: absolute;
    left: -6px;
    top: 10px;
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-right: 6px solid #e5f3ff;
}
.user-bubble {
    background: #0084ff;
    color: #fff;
    border-top-right-radius: 4px;
}
.user-bubble::before {
    content: '';
    position: absolute;
    right: -6px;
    top: 10px;
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-left: 6px solid #0084ff;
}

/* å®¡æ ¸å‘˜ä¿¡æ¯æ ·å¼ */
.reviewer-info {
    font-size: 12px;
    color: #666;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
}
.reviewer-name {
    font-weight: 500;
    margin-right: 6px;
}
.online-text {
    color: #4cd964;
    font-weight: 500;
}

.user-images {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 8px;
    max-width: 75%;
    margin-left: auto;
}
.user-images img {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 4px;
    border: 1px solid #eee;
}

.input-area {
    padding: 12px 16px;
    border-top: 1px solid #eee;
    background: #fff;
}
.img-upload {
    display: inline-block;
    padding: 8px 16px;
    background: #0084ff;
    color: #fff;
    border-radius: 20px;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.2s;
}
.img-upload:hover {
    background: #0073e6;
}
#img-input {
    display: none;
}
.upload-tip {
    font-size: 12px;
    color: #999;
    margin-top: 8px;
    text-align: center;
}
.warning-tip {
    font-size: 12px;
    color: #ff4d4f;
    margin-top: 4px;
    text-align: center;
    display: none;
}

@keyframes blink {
    0%,100% { opacity: 1; }
    50% { opacity: 0.5; }
}
        
        /* å¤åˆ¶æˆåŠŸå¼¹çª— */
        #copy-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            color: #fff;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 9999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        #copy-popup.show {
            opacity: 1;
            pointer-events: auto;
        }
        
        /* æ–‡æœ¬æ ·å¼ */
        .warning-text {
            color: #e03e2d;
            font-weight: bold;
        }
        
        .color_font {
            color: #e03e2d;
            font-weight: bold;
        }
        
        .highlight-ai {
            color: #0084ff;
            font-weight: bold;
        }
        
        .STYLE1 {
            color: #e03e2d;
            font-weight: bold;
        }
        
        .STYLE2 {
            color: #1890ff;
            font-weight: bold;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 480px) {
            .page-container {
                padding: 10px;
            }
            
            .step-card {
                padding: 15px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .action-buttons .layui-btn {
                max-width: 100%;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .jump-btn {
                width: 100%;
            }
            
            .service-trigger-btn {
                width: 110px;
                height: 42px;
                font-size: 14px;
            }
        }
        
        @media (max-width: 360px) {
            .rich_media_title {
                font-size: 18px;
            }
            
            .step-header h3 {
                font-size: 16px;
            }
            
            .jump-btn {
                font-size: 14px;
                padding: 12px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <h1 class="rich_media_title">
            <span>å…è´¹é¢†å–èµ„æºæ•™ç¨‹</span>
        </h1>
        
        <div class="developer-note">
            <div class="developer-note-header">
                <div class="developer-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#fff" viewBox="0 0 16 16">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                </div>
                <span class="developer-title">ç®€å•å‡ æ­¥å³å¯é¢†å–èµ„æº</span>
            </div>
            <div class="developer-content">
                <strong>æœ¬ç«™å·²ç¨³å®šè¿è¡Œ9å¹´ï¼Œæ‹¥æœ‰å…¨ç½‘æœ€å…¨èµ„æºâ€¦â€¦</strong><br>
                æˆ‘ä»¬æ•´ç†äº†å…¨ç½‘åŒäººåŠ¨æ¼«ã€é»‘ç™½å½©è‰²æ¼«ç”»ï¼ŒåŠ¨æ¼«æ–°ç•ªã€3dåŒäººç»…å£«æ‰‹æ¸¸è¿˜æœ‰ç«¥é”£çƒ§ã€éœœé™ã€å°çƒå¥³å­©ã€å›°å›°å…”ã€è¯—é¢–ã€éŸ©å©§æ ¼ã€ç‹æ€è¯ºâ€¦â€¦ç­‰å…¨ç½‘å…¨éƒ¨é»‘æ–™ï¼<br>
                <span style="color:red;"><strong>èµ„æºæ•´åˆä¸æ˜“ï¼Œå…è´¹åˆ†äº«ç»™å¤§å®¶ï¼Œæ‰€ä»¥è¯·å¤§å®¶å¸®å¿™å®£ä¼ ä¸€ä¸‹ï¼Œè®¾ç½®äº†ä¸€ä¸ªéå¸¸ç®€å•çš„å°ä»»åŠ¡ï¼ˆ30ç§’å°±å¯ä»¥æå®šï¼‰</strong></span><br>
                <div style="text-align:center;margin:10px 0;">
                    <span style="color:#FFD700;">â˜…</span><strong>ä¸æƒ³åšä»»åŠ¡çš„<span style="color:#FFD700; font-weight:bold;">åœŸè±ª</span>å¯ç›´æ¥è´­ä¹°è‡³å°Šç‰ˆâœˆï¸</strong><span style="color:#FFD700;">â˜…</span>
                </div>
            </div>
            
            <div class="layui-btn-container">
                <a href="https://fkfk.fafafa8.cn/links/BE9881EA" target="_blank" class="layui-btn layui-btn-normal layui-btn-radius">
                    <i class="layui-icon layui-icon-cart" style="margin-right: 5px;"></i>ç›´æ¥è´­ä¹°
                </a>
            </div>
        </div>

        <!-- é¡¶éƒ¨å›¾ç‰‡è½®æ’­ -->
        <div class="slideshow-container">
            <div class="slideshow-slide active">
                <img src="yibazhan/images/1.jpg" onclick="showTaskTip()" alt="èµ„æºå±•ç¤ºå›¾1">
            </div>
            <div class="slideshow-slide">
                <img src="yibazhan/images/2.jpg" onclick="showTaskTip()" alt="èµ„æºå±•ç¤ºå›¾2">
            </div>
            <div class="slideshow-slide">
                <img src="yibazhan/images/3.jpg" onclick="showTaskTip()" alt="èµ„æºå±•ç¤ºå›¾3">
            </div>
            <div class="slideshow-slide">
                <img src="yibazhan/images/4.jpg" onclick="showTaskTip()" alt="èµ„æºå±•ç¤ºå›¾4">
            </div>
            <div class="slideshow-slide">
                <img src="yibazhan/images/5.jpg" onclick="showTaskTip()" alt="èµ„æºå±•ç¤ºå›¾5">
            </div>
            <div class="slideshow-slide">
                <img src="yibazhan/images/6.jpg" onclick="showTaskTip()" alt="èµ„æºå±•ç¤ºå›¾6">
            </div>
            <button class="slideshow-prev" onclick="changeSlide(-1)">â®</button>
            <button class="slideshow-next" onclick="changeSlide(1)">â¯</button>
            
            <div class="slideshow-dots">
                <span class="slideshow-dot active" onclick="currentSlide(0)"></span>
                <span class="slideshow-dot" onclick="currentSlide(1)"></span>
                <span class="slideshow-dot" onclick="currentSlide(2)"></span>
                <span class="slideshow-dot" onclick="currentSlide(3)"></span>
                <span class="slideshow-dot" onclick="currentSlide(4)"></span>
                <span class="slideshow-dot" onclick="currentSlide(5)"></span>
            </div>
        </div>

        <!-- ç¬¬1æ­¥ -->
        <div class="step-card">
            <div class="step-header">
                <div class="step-number">1</div>
                <h3>ç¬¬ä¸€æ­¥</h3>
            </div>
            <div class="search-keywords">
                <p><strong>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®éšæœºè·å–æ–‡æ¡ˆï¼Œç„¶åå»<span class="warning-text">æŠ–éŸ³/bç«™</span>è¯„è®º<span class="STYLE2">ã€ç‚¹å‡»è“è‰²æŒ‰é’®å³å¯å¤åˆ¶ã€‘</span></strong></p>
                
                <!-- éšæœºå±•ç¤ºåŒºåŸŸ -->
                <div class="random-keyword-area">
                    <div class="current-keyword-box">
                        <p id="currentKeyword">ç‚¹å‡»éšæœºæŒ‰é’®è·å–æ–‡æ¡ˆ</p>
                    </div>
                    <div class="action-buttons">
                        <button class="layui-btn layui-btn-normal" id="randomBtn">ğŸ² éšæœºæ¢ä¸€å¥</button>
                        <button class="layui-btn layui-btn-primary" id="copyBtn">ğŸ“‹ å¤åˆ¶å½“å‰æ–‡æ¡ˆ</button>
                    </div>
                </div>
                
                <!-- æ‰€æœ‰å…³é”®è¯åº“ï¼ˆéšè—ï¼‰ -->
                <div id="keywordLibrary" style="display: none;">
                    <div data-keyword="â‘¦â‘ â‘¨ä¸¶ iÍœÍ¡  cÍœÍ¡  uÍœÍ¡ è¶…è´´å¿ƒ
å°±è¿™ä¸ªæœ€å¥½ å…¶ä½™éƒ½å¾ˆå·®åŠ²"></div>
                    <div data-keyword="â‘¦â‘ â‘¨ä¸¶ iÍœÍ¡  cÍœÍ¡  uÍœÍ¡ è¶…çœå¿ƒ
è¿™ä¸ªå«é‡‘é‡è°æ‡‚é˜¿"></div>
                    <div data-keyword="è¿½ç•ªä¸ç”¨æ„9 1 3Â· iÍ cÍ uÍ
ä¹Ÿç®—æ˜¯å¤§å¼€çœ¼ç•Œ ä½ ä¹Ÿè¯•è¯•"></div>
                    <div data-keyword="â‘¨â‘ â‘¢ä¸¶ iÍœÍ¡  cÍœÍ¡  uÍœÍ¡ å¤ªç¨³äº†
è¿™è´¨é‡çœŸçš„ç»äº†"></div>
                    <div data-keyword="â‘¨â‘ â‘¢ä¸¶ iÍœÍ¡  cÍœÍ¡  uÍœÍ¡ è¶…é è°±
ç”¨è¿‡éƒ½è¯´å¥½"></div>
                    <div data-keyword="â‘¦â‘ â‘¨ä¸¶ iÍœÍ¡  cÍœÍ¡  uÍœÍ¡ çœŸä¸é”™
è¿™ä¸ªæ•ˆæœæˆ‘çˆ±äº†"></div>
                </div>
            </div>
        </div>

        <!-- ç¬¬2æ­¥ -->
        <div class="step-card">
            <div class="step-header">
                <div class="step-number">2</div>
                <h3>ç¬¬äºŒæ­¥</h3>
            </div>
            <div class="search-keywords">
                <p><strong>ç‚¹å‡»ä¸‹æ–¹è·³è½¬<span class="warning-text">æŠ–éŸ³/å“”å“©å“”å“©</span>æŒ‰é’®å°†è‡ªåŠ¨æœç´¢ä¸‹æ–¹å…³é”®è¯</strong></p>
                
                <div class="douyin-search-box">
                    <p class="color_font"><strong>è‡ªåŠ¨æœç´¢å…³é”®è¯ï¼š</strong></p>
                    <div class="keyword-input-group">
                        <input 
                            type="text" 
                            id="customKeyword" 
                            value="æŠ½å±‰å˜è£…éšè—æ¬¾"
                            readonly
                        >
                        <button 
                            id="refreshKeywordBtn" 
                            title="åˆ·æ–°å…³é”®è¯"
                        >
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="button-group">
                        <button id="jumpDouyinBtn" class="jump-btn douyin-btn">
                            <i class="fas fa-external-link-alt"></i> è·³è½¬åˆ°æŠ–éŸ³
                            <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="margin-left: 5px;">
                                <path d="M937.4 423.9c-84 0-166.8-27.9-233.8-78.7v356.6c0 178.4-144.5 322.9-322.9 322.9S57.8 880.2 57.8 701.8s144.5-322.9 322.9-322.9c18.5 0 36.5 1.7 54.1 4.7v210.4c-17.4-6.6-35.9-10.2-54.1-10.2-65.4 0-118.5 53.1-118.5 118.5s53.1 118.5 118.5 118.5 118.5-53.1 118.5-118.5V0H703c0 118.8 95.5 214.9 214 215.2v208.7z" fill="#FFFFFF"></path>
                            </svg>
                        </button>
                        <button id="jumpBilibiliBtn" class="jump-btn bilibili-btn">
                            <i class="fas fa-external-link-alt"></i> è·³è½¬åˆ°å“”å“©å“”å“©
                            <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="margin-left: 5px;">
                                <path d="M832 64H192C121.6 64 64 121.6 64 192v640c0 70.4 57.6 128 128 128h640c70.4 0 128-57.6 128-128V192c0-70.4-57.6-128-128-128z m-96 576c0 35.2-28.8 64-64 64H352c-35.2 0-64-28.8-64-64V384c0-35.2 28.8-64 64-64h320c35.2 0 64 28.8 64 64v256z" fill="#FFFFFF"></path>
                                <path d="M448 352h128v320H448z" fill="#FFFFFF"></path>
                                <path d="M352 448h64v128h-64zM608 448h64v128h-64z" fill="#FFFFFF"></path>
                            </svg>
                        </button>
                    </div>
                    <div id="douyinStatus" class="douyin-status"></div>
                    <p class="douyin-tip">
                        <i class="fas fa-info-circle"></i> ç‚¹å‡»"è·³è½¬åˆ°æŠ–éŸ³/å“”å“©å“”å“©"å°†æ‰“å¼€å¯¹åº”Appï¼Œæœªè·³è½¬è¯·æ£€æŸ¥æ˜¯å¦å®‰è£…æŠ–éŸ³å’Œå“”å“©å“”å“©
                    </p>
                </div>
                
                <div>                                
                    <span class="color_font"><strong>æˆ–è€…å»æœä½ æƒ³çœ‹çš„åŠ¨æ¼«æˆ–æœ¬å­æˆ–æ¸¸æˆåå­—ï¼Œåªè¦ç›¸å…³çš„è§†é¢‘éƒ½å¯ä»¥è¯„è®º</strong></span>
                </div>
            </div>
        </div>

        <!-- ç¬¬3æ­¥ -->
        <div class="step-card">
            <div class="step-header">
                <div class="step-number">3</div>
                <h3>ç¬¬ä¸‰æ­¥</h3>
            </div>
            <div class="comment-instructions">
                <p><strong>æ‰“å¼€<span class="warning-text">æŠ–éŸ³/bç«™</span>åä¼šè‡ªåŠ¨æœç´¢å…³é”®è¯ï¼Œæœç´¢åå¾€ä¸‹æ»‘ï¼Œé€‰<span class="STYLE1">4ä¸ª</span>è¯„è®ºå°‘æˆ–è€…æ²¡æœ‰è¯„è®ºçš„è§†é¢‘</strong></p>
                <p><strong><span class="STYLE13">è¯„è®ºä¸Šé¢åˆšä¿å­˜çš„æ–‡æ¡ˆï¼Œæ¯ä¸ªè§†é¢‘è¯„è®ºä¸€å¼ </span></strong></p>
                <p><strong><span class="STYLE13">æœ€åç»™è‡ªå·±<span class="STYLE1">ç‚¹ä¸ªèµ</span> ï¼Œ<span class="STYLE1">å¹¶æˆªå›¾</span></span></strong></p>
                <br>
                <strong class="highlight STYLE1 STYLE14">ğŸ‘‡å¦‚ä¸‹å›¾æ‰€ç¤ºğŸ‘‡</strong>
            </div>
            <!-- ç¬¬ä¸‰æ­¥å›¾ç‰‡ -->
            <img src="yibazhan/images/d1.jpg" class="example-image" alt="æ“ä½œç¤ºä¾‹ï¼šæœç´¢å…³é”®è¯">
            <img src="yibazhan/images/d2.jpg" class="example-image" alt="æ“ä½œç¤ºä¾‹ï¼šè¯„è®ºç‚¹èµ">
        </div>

        <!-- æœ€åä¸€æ­¥ -->
        <div class="step-card">
            <div class="step-header">
                <div class="step-number">4</div>
                <h3>æœ€åä¸€æ­¥</h3>
            </div>
            <div class="final-step">
                <p>
                    <b>å°†ä½ åˆšè¯„è®ºçš„æˆªå›¾å‘ç»™å³ä¸‹ä¾§çš„ <span class="highlight-ai">AIæœºå™¨äºº</span> <i class="fas fa-robot"></i><br><br>
                    æœºå™¨äººä¼šåœ¨ï¼ˆ10ï¼‰ç§’å†…å®¡æ ¸å®Œï¼Œç„¶åä¼šåœ¨èŠå¤©æ¡†è‡ªåŠ¨å¼¹å‡ºæ‰€æœ‰èµ„æºçš„è·³è½¬ç½‘ç›˜é“¾æ¥<br><br><strong class="highlight">æ³¨æ„ï¼šä¸è§„èŒƒæˆªå›¾å’Œä¸Šä¼ é‡å¤æˆªå›¾å°†é‡ç½®è¿›åº¦ï¼</strong><br><br>å·²å®Œæˆç¤ºä¾‹ï¼šğŸ‘‡ğŸ‘‡ğŸ‘‡</b>
                </p>
            </div>
            
            <!-- å¥–åŠ±è½®æ’­ -->
            <div class="reward-slideshow-container">
                <div class="reward-slideshow">
                    <img src="yibazhan/images/c1.jpg" class="reward-slide active" alt="å®Œæˆç¤ºä¾‹å›¾1">
                    <img src="yibazhan/images/c2.jpg" class="reward-slide" alt="å®Œæˆç¤ºä¾‹å›¾2">
                </div>
                <button onclick="slideReward(-1)" class="reward-prev">â®</button>
                <button onclick="slideReward(1)" class="reward-next">â¯</button>
                <div class="reward-dots">
                    <span onclick="currentRewardSlide(0)" class="reward-dot active"></span>
                    <span onclick="currentRewardSlide(1)" class="reward-dot"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- å¤åˆ¶æˆåŠŸå¼¹çª— -->
    <div id="copy-popup">æ–‡æ¡ˆå·²å¤åˆ¶å‰ªè´´æ¿</div>

    <!-- æœºå™¨äººç•Œé¢HTMLç»“æ„ -->
<div class="service-trigger-btn" id="serviceTriggerBtn">
    <i class="fas fa-robot"></i>
    <span>AIæœºå™¨äºº</span>
</div>

    <div class="input-area">
        <label for="img-input" class="img-upload">
            <i class="fas fa-upload"></i> é€‰æ‹©æˆªå›¾ï¼ˆå¯å•æ¬¡/å¤šæ¬¡ä¸Šä¼ ï¼Œå…±éœ€4å¼ ï¼‰
        </label>
        <input type="file" id="img-input" accept="image/jpg,image/png,image/jpeg" multiple>
        <div class="upload-tip" id="uploadTip">å·²é€‰æ‹©ï¼š0/4å¼ </div>
        <div class="warning-tip" id="warningTip">âš ï¸ ä¸è§„èŒƒ/é‡å¤æˆªå›¾ï¼Œè¿›åº¦å·²é‡ç½®ï¼</div>
    </div>
</div>

<div class="service-popup" id="servicePopup">
    <div class="popup-header">
        <div class="header-left">
            <i class="fas fa-robot" style="margin-right: 8px; color: #0084ff;"></i>
            <div class="service-name">AIæœºå™¨äºº</div>
        </div>
        <div class="popup-close" id="popupClose">
            <i class="fas fa-times"></i>
        </div>
    </div>

    <div class="message-container" id="messageContainer">
        <div class="message-row service-message-row">
            <img src="yibazhan/images/b1.jpg" alt="å°é›ªå¤´åƒ" class="service-avatar-img">
            <div>

                    <!-- æ–°å¢å®¡æ ¸å‘˜ä¿¡æ¯æ˜¾ç¤º -->
                <div class="reviewer-info">
                    <span class="reviewer-name">å®¡æ ¸å‘˜ï¼šå°é›ª</span>
                    <span class="online-text">åœ¨çº¿ä¸­</span>
                </div>
                <div class="message-bubble service-bubble">
                    è¯·å°†è¯„è®ºçš„è§„èŒƒæˆªå›¾éƒ½å‘é€ç»™æˆ‘ï¼Œå®¡æ ¸é€šè¿‡åæˆ‘ä¼šå‘é€æ‰€æœ‰èµ„æºçš„è·³è½¬é¡µé“¾æ¥~<br>
                    æ³¨æ„ï¼šä¸è§„èŒƒæˆªå›¾å’Œå‘é€é‡å¤çš„æˆªå›¾å°†é‡ç½®è¿›åº¦ï¼Œæ‰€ä»¥æ˜¯ä¸€å®šä¸èƒ½æŠ•æœºå–å·§çš„å“¦ã€‚
                </div>
            </div>
        </div>
    </div>

    <script>
        // éšæœºå…³é”®è¯åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const randomBtn = document.getElementById('randomBtn');
            const copyBtn = document.getElementById('copyBtn');
            const currentKeyword = document.getElementById('currentKeyword');
            const keywordLibrary = document.getElementById('keywordLibrary');
            
            // è·å–æ‰€æœ‰å…³é”®è¯
            const keywordElements = keywordLibrary.querySelectorAll('[data-keyword]');
            const keywords = Array.from(keywordElements).map(el => el.getAttribute('data-keyword'));
            
            let currentKeywordText = '';
            
            // éšæœºé€‰æ‹©å…³é”®è¯
            function getRandomKeyword() {
                const randomIndex = Math.floor(Math.random() * keywords.length);
                return keywords[randomIndex];
            }
            
            // æ˜¾ç¤ºéšæœºå…³é”®è¯
            function showRandomKeyword() {
                currentKeywordText = getRandomKeyword();
                currentKeyword.textContent = currentKeywordText;
                currentKeyword.style.color = '#333';
            }
            
            // åˆå§‹åŒ–æ˜¾ç¤ºä¸€ä¸ªéšæœºå…³é”®è¯
            showRandomKeyword();
            
            // éšæœºæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            randomBtn.addEventListener('click', function() {
                showRandomKeyword();
                
                // æ·»åŠ ç‚¹å‡»åŠ¨ç”»
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
            
            // å¤åˆ¶æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            copyBtn.addEventListener('click', function() {
                if (!currentKeywordText) {
                    alert('è¯·å…ˆè·å–ä¸€ä¸ªéšæœºæ–‡æ¡ˆï¼');
                    return;
                }
                
                navigator.clipboard.writeText(currentKeywordText).then(() => {
                    // å¤åˆ¶æˆåŠŸåé¦ˆ
                    const originalText = copyBtn.innerHTML;
                    copyBtn.innerHTML = 'âœ… å¤åˆ¶æˆåŠŸï¼';
                    copyBtn.classList.add('copy-success');
                    
                    // å…³é”®è¯æ¡†ä¹Ÿæ˜¾ç¤ºæˆåŠŸçŠ¶æ€
                    currentKeyword.style.color = '#52c41a';
                    
                    setTimeout(() => {
                        copyBtn.innerHTML = originalText;
                        copyBtn.classList.remove('copy-success');
                        currentKeyword.style.color = '#333';
                    }, 2000);
                    
                }).catch(err => {
                    console.error('å¤åˆ¶å¤±è´¥:', err);
                    // é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨textareaå¤åˆ¶
                    const textArea = document.createElement('textarea');
                    textArea.value = currentKeywordText;
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        alert('å¤åˆ¶æˆåŠŸï¼');
                    } catch (e) {
                        alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡å­—å¤åˆ¶');
                    }
                    document.body.removeChild(textArea);
                });
            });
            
            // ä¹Ÿå¯ä»¥ç‚¹å‡»å…³é”®è¯æ¡†ç›´æ¥å¤åˆ¶
            currentKeyword.addEventListener('click', function() {
                if (currentKeywordText && currentKeywordText !== 'ç‚¹å‡»éšæœºæŒ‰é’®è·å–æ–‡æ¡ˆ') {
                    copyBtn.click();
                }
            });
        });

        // è½®æ’­å›¾åŠŸèƒ½
        let currentSlideIndex = 0;
        const slides = document.querySelectorAll('.slideshow-slide');
        const dots = document.querySelectorAll('.slideshow-dot');

        function showSlides(index) {
            if (index >= slides.length) currentSlideIndex = 0;
            if (index < 0) currentSlideIndex = slides.length - 1;
            
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            slides[currentSlideIndex].classList.add('active');
            dots[currentSlideIndex].classList.add('active');
        }

        function changeSlide(n) {
            currentSlideIndex += n;
            showSlides(currentSlideIndex);
        }

        function currentSlide(index) {
            currentSlideIndex = index;
            showSlides(currentSlideIndex);
        }

        // è‡ªåŠ¨è½®æ’­ï¼ˆ3ç§’åˆ‡æ¢ä¸€æ¬¡ï¼‰
        setInterval(() => {
            changeSlide(1);
        }, 3000);

        // å¥–åŠ±è½®æ’­å›¾åˆ‡æ¢åŠŸèƒ½
        let currentRewardIndex = 0;
        const rewardSlides = document.querySelectorAll('.reward-slide');
        const rewardDots = document.querySelectorAll('.reward-dot');

        function showRewardSlides(index) {
            if (index >= rewardSlides.length) currentRewardIndex = 0;
            if (index < 0) currentRewardIndex = rewardSlides.length - 1;
            
            rewardSlides.forEach(slide => slide.classList.remove('active'));
            rewardDots.forEach(dot => dot.classList.remove('active'));
            
            rewardSlides[currentRewardIndex].classList.add('active');
            rewardDots[currentRewardIndex].classList.add('active');
        }

        function slideReward(n) {
            currentRewardIndex += n;
            showRewardSlides(currentRewardIndex);
        }

        function currentRewardSlide(index) {
            currentRewardIndex = index;
            showRewardSlides(currentRewardIndex);
        }

        // è½®æ’­å›¾ç‚¹å‡»æç¤ºåŠŸèƒ½
        function showTaskTip() {
            alert('å®Œæˆä»»åŠ¡å³å¯è·å–è¯¥èµ„æºï¼Œè¯¦æƒ…è§ä¸‹æ–¹æ­¥éª¤æŒ‡å—~');
        }

        // æŠ–éŸ³å…³é”®è¯åˆ·æ–°åŠŸèƒ½
        const keywords = [
            "åŒäººåŠ¨æ¼«",
            "é¬¼ç­åŒäºº",     
            "åŸç¥åŒäºº",   
            "ç‹è€…åŒäºº",
        ];

        document.getElementById('refreshKeywordBtn').addEventListener('click', function() {
            const randomIndex = Math.floor(Math.random() * keywords.length);
            document.getElementById('customKeyword').value = keywords[randomIndex];
            // åˆ·æ–°æ—¶æ·»åŠ åŠ¨ç”»æ•ˆæœ
            this.style.transform = 'rotate(360deg)';
            setTimeout(() => {
                this.style.transform = 'rotate(0)';
            }, 500);
        });

        // æŠ–éŸ³è·³è½¬åŠŸèƒ½
        document.getElementById('jumpDouyinBtn').addEventListener('click', function() {
            const keyword = document.getElementById('customKeyword').value;
            const encodedKeyword = encodeURIComponent(keyword);
            
            // æŠ–éŸ³App URL Scheme
            const douyinAppUrl = `snssdk1128://search?keyword=${encodedKeyword}`;
            // æŠ–éŸ³ç½‘é¡µç‰ˆURL
            const douyinWebUrl = `https://www.douyin.com/search/${encodedKeyword}`;
            
            // å°è¯•æ‰“å¼€Appï¼Œå¦‚æœå¤±è´¥åˆ™æ‰“å¼€ç½‘é¡µç‰ˆ
            window.location.href = douyinAppUrl;
            
            setTimeout(function() {
                if (document.hidden || document.webkitHidden) {
                    // ç”¨æˆ·å¯èƒ½å·²ç»è·³è½¬åˆ°App
                } else {
                    // å¦‚æœè¿˜åœ¨å½“å‰é¡µé¢ï¼Œåˆ™æ‰“å¼€ç½‘é¡µç‰ˆ
                    window.open(douyinWebUrl, '_blank');
                }
            }, 500);
            
            // æ˜¾ç¤ºçŠ¶æ€ä¿¡æ¯
            showStatus('æ­£åœ¨è·³è½¬åˆ°æŠ–éŸ³...', 'success');
        });
        
        // è·³è½¬åˆ°å“”å“©å“”å“©åŠŸèƒ½
        document.getElementById('jumpBilibiliBtn').addEventListener('click', function() {
            const keyword = document.getElementById('customKeyword').value;
            const encodedKeyword = encodeURIComponent(keyword);
            
            // å“”å“©å“”å“©App URL Scheme
            const bilibiliAppUrl = `bilibili://search/${encodedKeyword}`;
            // å“”å“©å“”å“©ç½‘é¡µç‰ˆURL
            const bilibiliWebUrl = `https://search.bilibili.com/all?keyword=${encodedKeyword}`;
            
            // å°è¯•æ‰“å¼€Appï¼Œå¦‚æœå¤±è´¥åˆ™æ‰“å¼€ç½‘é¡µç‰ˆ
            window.location.href = bilibiliAppUrl;
            
            setTimeout(function() {
                if (document.hidden || document.webkitHidden) {
                    // ç”¨æˆ·å¯èƒ½å·²ç»è·³è½¬åˆ°App
                } else {
                    // å¦‚æœè¿˜åœ¨å½“å‰é¡µé¢ï¼Œåˆ™æ‰“å¼€ç½‘é¡µç‰ˆ
                    window.open(bilibiliWebUrl, '_blank');
                }
            }, 500);
            
            // æ˜¾ç¤ºçŠ¶æ€ä¿¡æ¯
            showStatus('æ­£åœ¨è·³è½¬åˆ°å“”å“©å“”å“©...', 'success');
        });
        
        // æ˜¾ç¤ºçŠ¶æ€ä¿¡æ¯
        function showStatus(message, type) {
            const statusDiv = document.getElementById('douyinStatus');
            statusDiv.textContent = message;
            statusDiv.style.padding = '10px';
            statusDiv.style.borderRadius = '5px';
            statusDiv.style.marginTop = '10px';
            statusDiv.style.textAlign = 'center';
            statusDiv.style.fontWeight = 'bold';
            
            if (type === 'success') {
                statusDiv.style.backgroundColor = '#d4edda';
                statusDiv.style.color = '#155724';
                statusDiv.style.border = '1px solid #c3e6cb';
            } else {
                statusDiv.style.backgroundColor = '#f8d7da';
                statusDiv.style.color = '#721c24';
                statusDiv.style.border = '1px solid #f5c6cb';
            }
            
            // 3ç§’åæ¸…é™¤çŠ¶æ€ä¿¡æ¯
            setTimeout(() => {
                statusDiv.textContent = '';
                statusDiv.style.padding = '0';
                statusDiv.style.backgroundColor = 'transparent';
                statusDiv.style.border = 'none';
            }, 3000);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–è½®æ’­å’Œéšæœºå…³é”®è¯
        window.onload = function() {
            // åˆå§‹åŒ–è½®æ’­å›¾
            showSlides(currentSlideIndex);
            showRewardSlides(currentRewardIndex);
            
            // é¡µé¢åŠ è½½æ—¶éšæœºé€‰æ‹©ä¸€ä¸ªå…³é”®è¯
            const randomIndex = Math.floor(Math.random() * keywords.length);
            document.getElementById('customKeyword').value = keywords[randomIndex];
        };
    </script>

   <!-- æœºå™¨äººäº¤äº’é€»è¾‘ -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // å®¢æœå¼¹çª—é€»è¾‘
        const triggerBtn = document.getElementById('serviceTriggerBtn');
        const servicePopup = document.getElementById('servicePopup');
        const popupClose = document.getElementById('popupClose');
        const messageContainer = document.getElementById('messageContainer');
        const imgInput = document.getElementById('img-input');
        const uploadTip = document.getElementById('uploadTip');
        const warningTip = document.getElementById('warningTip');

        let uploadedKeys = [];
        let currentCount = 0;
        const needCount = 4;

        triggerBtn.addEventListener('click', () => {
            servicePopup.style.display = 'flex';
            triggerBtn.style.display = 'none';
            messageContainer.scrollTop = messageContainer.scrollHeight;
        });

        popupClose.addEventListener('click', () => {
            servicePopup.style.display = 'none';
            triggerBtn.style.display = 'flex';
        });

        imgInput.addEventListener('change', (e) => {
            const selectedFiles = Array.from(e.target.files);
            if (selectedFiles.length === 0) return;

            const remaining = needCount - currentCount;
            const validFiles = selectedFiles.slice(0, remaining);
            if (validFiles.length === 0) {
                showWarning('å·²ä¸Šä¼ 4å¼ ï¼Œæ— éœ€å†ä¼ ');
                return;
            }

            let hasDuplicate = false;
            let hasInvalid = false;
            const validTypes = ['image/jpeg', 'image/png', 'image/jpg'];
            
            validFiles.forEach(file => {
                const key = `${file.name}-${file.size}`;
                if (uploadedKeys.includes(key)) hasDuplicate = true;
                if (!validTypes.includes(file.type) || file.size < 10240) hasInvalid = true;
            });

            if (hasDuplicate || hasInvalid) {
                const tip = hasDuplicate ? 'åŒ…å«é‡å¤æˆªå›¾' : 'åŒ…å«ä¸è§„èŒƒæˆªå›¾ï¼ˆéå›¾ç‰‡/è¿‡å°ï¼‰';
                showWarning(tip);
                resetProgress();
                return;
            }

            hideWarning();
            validFiles.forEach(file => {
                uploadedKeys.push(`${file.name}-${file.size}`);
            });
            const newCount = currentCount + validFiles.length;

            showUserImages(validFiles);

            validFiles.forEach((_, index) => {
                const currentStep = currentCount + index + 1;
                const stepRemaining = needCount - currentStep;
                setTimeout(() => {
                    showServiceReply(`
                        å›¾ç‰‡ä¸Šä¼ æˆåŠŸï¼Œå®¡æ ¸é€šè¿‡ ï¼å½“å‰å·²ä¸Šä¼  ${currentStep} å¼ å›¾ç‰‡ï¼Œè¯·ç»§ç»­ä¸Šä¼ å‰©ä½™ ${stepRemaining} å¼ å›¾ç‰‡ã€‚
                    `);
                }, index * 500);
            });

            currentCount = newCount;
            uploadTip.textContent = `å·²é€‰æ‹©ï¼š${currentCount}/${needCount}å¼ `;

            if (currentCount === needCount) {
                setTimeout(() => {
                    showServiceReply('æ­£åœ¨è·å–èµ„æºé“¾æ¥ï¼Œè¯·ç¨å€™...');
                    setTimeout(() => {
                        showServiceReply(`
                            âœ… å®å­æ­å–œä½ è·å¾—èµ„æºï¼ˆé€Ÿåº¦ä¿å­˜åˆ°è‡ªå·±ç½‘ç›˜ï¼Œå› ä¸ºé“¾æ¥éšæ—¶ä¼šè¢«å’Œè°å¤±æ•ˆï¼Œå¦‚æœé‡åˆ°è¢«å’Œè°çš„æƒ…å†µï¼Œç¬¬äºŒå¤©æˆ‘ä¼šå†è·Ÿæ–°ï¼Œæ™šä¸Š8ç‚¹å·¦å³å†æ¥ä¿å­˜å³å¯ï¼‰                               
                            <br><br>
                            1. <a href="https://pan.xunlei.com/s/VOaLs5J4f9BbRjNuWQMas_IVA1?pwd=jdfq#" target="_blank" style="color:#0084ff; text-decoration:underline;">çƒ­é—¨åƒç“œå…¥å£</a><br>
                            2. <a href="https://pan.xunlei.com/s/VO_mNlVaok7eZI8EKb53mQWcA1?pwd=bhkp#" target="_blank" style="color:#0084ff; text-decoration:underline;">åå·®å¥³ç¥å…¥å£</a><br>
                            3. <a href="https://pan.xunlei.com/s/VO_mO1WnDLbxxa9slOE9MEb1A1?pwd=i3ca#" target="_blank" style="color:#0084ff; text-decoration:underline;">silkå¥³æ€§å‘å…¥å£</a><br>
                            4. <a href="https://pan.xunlei.com/s/VO_mOE4ZioiVp0Yc4yOqAp5-A1?pwd=wys5#" target="_blank" style="color:#0084ff; text-decoration:underline;">ç»…å£«æ¸¸æˆå…¥å£</a>
                        `);
                        setTimeout(resetProgress, 5000);
                    }, 2000);
                }, validFiles.length * 500);
            }

            imgInput.value = '';
        });

        function showUserImages(files) {
            const userRow = document.createElement('div');
            userRow.className = 'message-row user-message-row';

            const userBubble = document.createElement('div');
            userBubble.className = 'message-bubble user-bubble';
            userBubble.textContent = `æˆ‘ä¸Šä¼ äº†${files.length}å¼ æˆªå›¾ï¼š`;

            const imgContainer = document.createElement('div');
            imgContainer.className = 'user-images';
            files.forEach(file => {
                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                img.alt = `ç”¨æˆ·æˆªå›¾${currentCount + imgContainer.children.length + 1}`;
                imgContainer.appendChild(img);
            });

            userRow.appendChild(userBubble);
            messageContainer.appendChild(userRow);
            messageContainer.appendChild(imgContainer);
            messageContainer.scrollTop = messageContainer.scrollHeight;
        }

        function showServiceReply(content) {
            const serviceRow = document.createElement('div');
            serviceRow.className = 'message-row service-message-row';

            const serviceAvatar = document.createElement('img');
            serviceAvatar.src = 'yibazhan/images/b1.jpg';
            serviceAvatar.alt = 'å°é›ªå¤´åƒ';
            serviceAvatar.className = 'service-avatar-img';

            // åˆ›å»ºå®¡æ ¸å‘˜ä¿¡æ¯å®¹å™¨
            const reviewerInfo = document.createElement('div');
            reviewerInfo.className = 'reviewer-info';
            
            const reviewerName = document.createElement('span');
            reviewerName.className = 'reviewer-name';
            reviewerName.textContent = 'å®¡æ ¸å‘˜ï¼šå°é›ª';
            
            const onlineText = document.createElement('span');
            onlineText.className = 'online-text';
            onlineText.textContent = 'åœ¨çº¿ä¸­';
            
            reviewerInfo.appendChild(reviewerName);
            reviewerInfo.appendChild(onlineText);

            const serviceBubble = document.createElement('div');
            serviceBubble.className = 'message-bubble service-bubble';
            serviceBubble.innerHTML = content;

            const contentContainer = document.createElement('div');
            contentContainer.appendChild(reviewerInfo);
            contentContainer.appendChild(serviceBubble);

            serviceRow.appendChild(serviceAvatar);
            serviceRow.appendChild(contentContainer);
            messageContainer.appendChild(serviceRow);
            messageContainer.scrollTop = messageContainer.scrollHeight;
        }

        function showWarning(text) {
            warningTip.textContent = `âš ï¸ ${text}ï¼Œè¿›åº¦å·²é‡ç½®ï¼`;
            warningTip.style.display = 'block';
            setTimeout(hideWarning, 3000);
        }

        function hideWarning() {
            warningTip.style.display = 'none';
        }

        function resetProgress() {
            uploadedKeys = [];
            currentCount = 0;
            uploadTip.textContent = `å·²é€‰æ‹©ï¼š0/${needCount}å¼ `;
            imgInput.value = '';
            showServiceReply('è¿›åº¦å·²é‡ç½®ï¼Œè¯·é‡æ–°ä¸Šä¼ åˆè§„çš„æˆªå›¾ï¼ˆå…±éœ€4å¼ ï¼‰ã€‚');
        }
    });
    </script>
</body>
</html>
